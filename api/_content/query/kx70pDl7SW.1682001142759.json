{"_path":"/blog/ssh-ec2","_dir":"blog","_draft":false,"_partial":false,"_locale":"","_empty":false,"title":"Cómo solucioné un problema de conexión SSH a una instancia EC2","description":"Recientemente, estaba teniendo problemas para conectarme por SSH a una instancia EC2 en Amazon Web Services (AWS). Después de varios intentos fallidos, decidí buscar una solución y encontré la siguiente información en la documentación de AWS:","date":"2023-04-13","author":"Jorge","body":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Recientemente, estaba teniendo problemas para conectarme por SSH a una instancia EC2 en Amazon Web Services (AWS). Después de varios intentos fallidos, decidí buscar una solución y encontré la siguiente información en la documentación de AWS:"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Abre la consola de Amazon EC2 en "},{"type":"element","tag":"a","props":{"href":"https://console.aws.amazon.com/ec2/","rel":["nofollow"]},"children":[{"type":"text","value":"https://console.aws.amazon.com/ec2/"}]},{"type":"text","value":"."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"En el panel de navegación, elige \"Instancias\" y luego selecciona tu instancia."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"En la pestaña \"Red\", toma nota de los valores para el \"ID de VPC\" y el \"ID de Subred\"."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Abre la consola de Amazon VPC en "},{"type":"element","tag":"a","props":{"href":"https://console.aws.amazon.com/vpc/","rel":["nofollow"]},"children":[{"type":"text","value":"https://console.aws.amazon.com/vpc/"}]},{"type":"text","value":"."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"En el panel de navegación, elige \"Internet Gateways\". Verifica que haya un gateway de internet adjunto a tu VPC. De lo contrario, elige \"Crear gateway de internet\", ingresa un nombre para el gateway de internet y elige \"Crear gateway de internet\". Luego, para el gateway de internet que creaste, elige \"Acciones\", \"Adjuntar a VPC\", selecciona tu VPC y luego elige \"Adjuntar gateway de internet\" para adjuntarlo a tu VPC."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"En el panel de navegación, elige \"Subredes\" y luego selecciona tu subred."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"En la pestaña \"Tabla de rutas\", verifica que haya una ruta con \"0.0.0.0/0\" como destino y el gateway de internet para tu VPC como destino. Si te estás conectando a tu instancia utilizando su dirección IPv6, verifica que haya una ruta para todo el tráfico IPv6 (\"::/0\") que apunte al gateway de internet. De lo contrario, realiza lo siguiente:"},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Elige el ID de la tabla de rutas (rtb-xxxxxxxx) para navegar a la tabla de rutas."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"En la pestaña \"Rutas\", elige \"Editar rutas\". Elige \"Agregar ruta\", usa \"0.0.0.0/0\" como destino y el gateway de internet como destino. Para IPv6, elige \"Agregar ruta\", usa \"::/0\" como destino y el gateway de internet como destino."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Elige \"Guardar rutas\"."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Verifica la lista de control de acceso de red (ACL) para la subred."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Las ACL de red deben permitir el tráfico entrante desde tu dirección IP local en el puerto 22 (para instancias Linux) o el puerto 3389 (para instancias Windows). También deben permitir el tráfico saliente a los puertos efímeros (1024-65535)."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Abre la consola de Amazon VPC en "},{"type":"element","tag":"a","props":{"href":"https://console.aws.amazon.com/vpc/","rel":["nofollow"]},"children":[{"type":"text","value":"https://console.aws.amazon.com/vpc/"}]},{"type":"text","value":"."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"En el panel de navegación, elige \"Subredes\"."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Selecciona tu subred."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"En la pestaña \"ACL de red\", para las reglas entrantes, verifica que las reglas permitan el tráfico entrante desde tu computadora en el puerto requerido. De lo contrario, elimina o modifica la regla que está bloqueando el tráfico."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Para las reglas salientes, verifica que las reglas permitan el tráfico saliente a tu computadora en los puertos efímeros. De lo contrario, elimina o modifica la regla que está bloqueando el tráfico."}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Después de seguir los pasos mencionados anteriormente, intenté conectarme a la instancia EC2 usando ssh nuevamente y pude conectarme exitosamente. Fue un gran alivio resolver este problema ya que necesitaba acceder a la instancia para realizar ciertas tareas importantes. Espero que esta información sea útil para alguien que pueda estar experimentando un problema similar y pueda solucionarlo siguiendo estos pasos. Si tienes alguna pregunta o comentario, por favor déjame saber en la sección de comentarios a continuación."}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[]}},"_type":"markdown","_id":"content:blog:ssh-ec2.md","_source":"content","_file":"blog/ssh-ec2.md","_extension":"md"}